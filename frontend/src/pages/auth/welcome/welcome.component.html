<div class="terminal">
  <h1>
    <span class="bounce">ğŸ</span> Bienvenue sur (Moments) <span class="bounce">ğŸ</span>
  </h1>

  <app-loading *ngIf="groupeService.isLoading()"></app-loading>

  <div *ngIf="!auth.isLoggedIn() && !groupeService.isLoading()">
    <p class="command-accueil">&gt; Veuillez vous connecter :</p>
    <div class="google-btn">
      <button class="google-signin-btn" (click)="googleLogin()">
        <img ngSrc="assets/web_neutral_sq_na.svg" alt="Google logo" width="39" height="39"/>
        <span>Connexion avec Google</span>
      </button>
    </div>

    <div class="or-separator">OU</div>

    <div class="login-form">
      <label for="email">Email</label>
      <input
        id="email"
        type="email"
        [(ngModel)]="email"
        autocomplete="username"
        name="email"
      />

      <label for="password">Mot de passe</label>
      <div class="password-wrapper">
        <input
          id="password"
          [type]="showPassword() ? 'text' : 'password'"
          [(ngModel)]="password"
          (input)="onPasswordInput($event)"
          name="password"
          required
          autocomplete="current-password"
          [attr.aria-describedby]="passwordError ? 'password-error' : 'password-help'"
        />
        <button type="button" class="toggle-password" (click)="showPassword.set(!showPassword())">
          {{ showPassword() ? 'ğŸ™ˆ Masquer' : 'ğŸ‘ Afficher' }}
        </button>
      </div>

      <div class="help-msg">
        <span>ğŸ§ </span> <strong>8 caractÃ¨res, une lettre, un chiffre.</strong><br />
        <span class="subtle">Ã‰vitons â€œ12345678â€, le SÃ©bou te regarde.</span>
      </div>

      <div class="checkbox-row">
        <label>
          <input type="checkbox" [(ngModel)]="stayLoggedIn" name="stayLoggedIn" />
          Rester connectÃ© (valable aussi pour Google)
        </label>
      </div>

      <div class="sebou-alert">
        <span class="intro">
          <em>Dans chaque groupe sommeille un SÃ©bou, crÃ©ature sensible en guerre contre les surprises.</em>
        </span>
        <span class="middle">
          Il fera tout pour deviner ce quâ€™on va lui offrir.
        </span>
        <span class="final">
          Si vous hÃ©bergez un SÃ©bou, ne cliquez pas, ne nourrissez pas le SÃ©bou.
        </span>
      </div>

      <button class="options-wlc" (click)="submitEmailPassword()">âœï¸ Connexion / CrÃ©ation de compte</button>

    </div>
  </div>

  <div *ngIf="auth.isLoggedIn() && !groupeService.isLoading()">
    <p>ConnectÃ© en tant que : {{ auth.profile()?.email }}</p>
    <button (click)="auth.logout()">Se dÃ©connecter</button>
  </div>
</div>
