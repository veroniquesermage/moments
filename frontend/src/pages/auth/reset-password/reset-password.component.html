<div class="terminal">
  <h1> Modifier votre mot de passe</h1>
  <div class="login-form" *ngIf="user">
    <label for="email">Email</label>
    <p>{{user!.email}}</p>

    <div class="login-form" *ngIf="context=='change'">
      <label for="old-password">Ancien mot de passe</label>
      <input
        id="old-password"
        name="old-password"
        [type]="showPassword() ? 'text' : 'password'"
        [(ngModel)]="oldPassword"
        spellcheck="false"
        autocomplete="current-password"
      />

      <label for="new-password">Nouveau mot de passe</label>
      <input
        id="new-password"
        name="new-password"
        [type]="showPassword() ? 'text' : 'password'"
        [(ngModel)]="newPassword"
        (input)="onPasswordInput()"
        (blur)="onPasswordBlur()"
        [class.error]="passwordError"
        spellcheck="false"
        autocomplete="new-password"
        required
      />

      <label for="confirm-password">Confirmer le mot de passe</label>
      <input
        id="confirm-password"
        name="confirm-password"
        [type]="showPassword() ? 'text' : 'password'"
        [(ngModel)]="confirmPassword"
        (input)="onConfirmPasswordInput()"
        [class.error]="confirmError"
        spellcheck="false"
        autocomplete="new-password"
        required
      />

      <div *ngIf="passwordError" class="form-error" role="alert" aria-live="assertive">
        {{ passwordError }}
      </div>
      <div *ngIf="confirmError" class="form-error" role="alert" aria-live="assertive">
        {{ confirmError }}
      </div>

      <button (click)="submitPasswordChange()">ðŸ’¾ Modifier</button>
    </div>
  </div>
</div>

<app-feedback-test
  [composant]="composant">
</app-feedback-test>

