<div class="gift-block">
  <hr class="block-separator" />
  <div class="block-title">ğŸ“© Invitations </div>
  <hr class="block-separator" />

  <div>
    <p>> Saisissez une adresse mail par ligne. Virgules et espaces seront convertis en retours Ã  la ligne.</p>
    <textarea
      [(ngModel)]="mails"
      (input)="normalizeMails()"
      rows="4"
    ></textarea>

  </div>

  <button (click)="checkMail()">ğŸ‘€ VÃ©rifier les mails</button>

  <div *ngIf="validMails?.emails!.length > 0">
    <p>âœ… Mails valides :</p>
    <ul>
      <li *ngFor="let mail of validMails?.emails">{{ mail }}</li>
    </ul>
  </div>

  <div *ngIf="invalidMails.length > 0">
    <p>âŒ Mails invalides :</p>
    <ul>
      <li *ngFor="let mail of invalidMails">{{ mail }}</li>
    </ul>
  </div>
  <div class="modal-actions">
    <button *ngIf="invalidMails.length==0 && validMails?.emails!.length >0" (click)="sendInvitation()">ğŸ’Œ Envoyer les invitations</button>
    <button (click)="refreshInviteCode()">ğŸ”„ RÃ©gÃ©nÃ©rer le code d'invitation</button>
  </div>

</div>

<app-terminal-modal
  *ngIf="errorService.errorMessage()"
  [message]="errorService.errorMessage()!"
  [actions]="[{ label: 'Ok', eventName: 'CLOSE', style: 'danger' }]"
  (actionClicked)="errorService.clearError()"
></app-terminal-modal>
