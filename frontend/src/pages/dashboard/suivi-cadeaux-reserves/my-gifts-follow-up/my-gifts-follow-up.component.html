<div class="terminal">
  <section class="intro-section"  aria-label="Introduction pour la page Listes des autres membres">
    <h1 class="dashboard-title">
      üõçÔ∏è Ma liste de cadeaux r√©serv√©s ou pris
    </h1>
    <p>Voici tous les cadeaux que vous avez r√©serv√©s ou pris, pour vous ou un compte tiers.
    <br> Le prix affich√© correspond √† ce que vous avez effectivement pay√©, y compris votre participation si le cadeau est partag√©.</p>
    <p class="emphase-douce">
      Cliquez sur un cadeau pour acc√©der √† toutes ses infos et les g√©rer : livraison, partage, remboursement, notes, le prix r√©ellement pay√©...
    </p>
    <p *ngIf="isPortrait" class="orientation-hint">
    üì± Pour plus de fonctionnalit√©s, passez en mode paysage.
    </p>
  </section>

  <p class="table-legend emphase-douce" role="group" aria-labelledby="table-legend-title">
    <strong id="table-legend-title" class="visually-hidden">L√©gende du tableau</strong>
    <span><span class="legend-dot recu" aria-hidden="true"></span> Cadeau re√ßu</span>
    <span><span class="legend-dot partage" aria-hidden="true"></span> Cadeau partag√©</span>
  </p>

  <table aria-describedby="table-priorite-explication" class="gift-table">
    <thead>
    <tr>
      <th scope="col" *ngFor="let column of displayedColumns">
        {{ column.label || column.key | titlecase }}
      </th>
    </tr>
    </thead>
    <tbody *ngIf="giftsFollowedByAccount?.length">
    <ng-container *ngFor="let group of giftsFollowedByAccount">
      <!-- Ligne de s√©paration avec le label et le total -->
      <tr class="separator-row">
        <td [attr.colspan]="displayedColumns.length">
          {{ group.accountLabel }} {{ group.total | number:'1.2-2' }} ‚Ç¨
        </td>
      </tr>

      <!-- Lignes cadeaux -->
      <ng-container *ngFor="let gift of group.gifts">
        <tr (click)="onGiftClicked(gift)"
            [class.partage]="gift.partage || gift.estPartage"
            [class.recu]="gift.delivery?.recu"
            [attr.aria-label]="getAriaLabel(gift)">
          <td *ngFor="let column of displayedColumns"
              tabindex="0"
              (keydown.enter)="onGiftClicked(gift)"
              (keydown.space)="onGiftClicked(gift)">
            {{ getGiftValue(gift, column) }}
          </td>
        </tr>
      </ng-container>
    </ng-container>
    </tbody>
  </table>


  <div class="options">
    <button (click)="retour()">‚Ü© Retour au Menu</button>
  </div>


  <app-terminal-modal
    *ngIf="errorService.errorMessage()"
    [message]="errorService.errorMessage()!"
    [actions]="[{ label: 'Ok', eventName: 'CLOSE', style: 'danger' }]"
    (actionClicked)="errorService.clearError()"
  ></app-terminal-modal>
</div>
<app-feedback-test
  [composant]="composant">
</app-feedback-test>
