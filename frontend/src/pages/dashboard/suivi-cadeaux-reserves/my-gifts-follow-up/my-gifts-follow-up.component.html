<div class="terminal">
  <section class="intro-section"  aria-label="Introduction pour la page Listes des autres membres">
    <h1 class="dashboard-title">
      ğŸ›ï¸ Les listes des cadeaux rÃ©servÃ©s ou pris
    </h1>
    <p class="emphase-douce">
      Cliquez sur un cadeau pour obtenir son dÃ©tail et le gÃ©rer.
    </p>
    <p *ngIf="isPortrait" class="orientation-hint">
    ğŸ“± Pour plus de fonctionnalitÃ©s, passez en mode paysage.
    </p>
  </section>

  <p class="total"> Total des cadeaux : {{ Number(totalPrixReel.toFixed(2))
    }} â‚¬</p>

  <p class="table-legend emphase-douce" role="group" aria-labelledby="table-legend-title">
    <strong id="table-legend-title" class="visually-hidden">LÃ©gende du tableau</strong>
    <span><span class="legend-dot recu" aria-hidden="true"></span> Cadeau reÃ§u</span>
    <span><span class="legend-dot partage" aria-hidden="true"></span> Cadeau partagÃ©</span>
  </p>

  <table aria-describedby="table-priorite-explication" class="gift-table">
    <thead>
    <tr>
      <th scope="col" *ngFor="let column of displayedColumns">{{ column.label || column.key | titlecase }}</th>
    </tr>
    </thead>
    <tbody *ngIf="displayedColumns.length > 0 && tableRows.length > 0">
      <ng-container *ngFor="let row of tableRows">
        <ng-container *ngIf="isGroupRow(row); else giftRow">
          <tr class="separator-row">
            <td [attr.colspan]="displayedColumns.length">
              {{ row.title }} â€” {{ Number(row.total.toFixed(2)) }} â‚¬
            </td>
          </tr>
        </ng-container>
        <ng-template #giftRow>
          <tr (click)="onGiftClicked(row)"
              [class.recu]="row.delivery?.recu"
              [class.partage]="row.gift.statut === 'PARTAGE'"
              [attr.aria-label]="getAriaLabel(row)">
            <td *ngFor="let column of displayedColumns"
                tabindex="0"
                (keydown.enter)="onGiftClicked(row)"
                (keydown.space)="onGiftClicked(row)">
              {{ getGiftValue(row, column) }}
            </td>
          </tr>
        </ng-template>
      </ng-container>
    </tbody>
  </table>

  <div class="options">
    <button (click)="retour()">â†© Retour au Menu</button>
  </div>


  <app-terminal-modal
    *ngIf="errorService.errorMessage()"
    [message]="errorService.errorMessage()!"
    [actions]="[{ label: 'Ok', eventName: 'CLOSE', style: 'danger' }]"
    (actionClicked)="errorService.clearError()"
  ></app-terminal-modal>
</div>
<app-feedback-test
  [composant]="composant">
</app-feedback-test>
