<div class="terminal">
  <h2>> Vos idÃ©es de cadeaux</h2>

  <section class="intro-bloc" aria-label="Introduction pour la page IdÃ©es de cadeaux pour les autres">
  <p>> Enregistrez ici vos idÃ©es de cadeaux pour d'autres membres du groupe. </p>
  <p class="sub-intro">Cliquez sur votre idÃ©e pour obtenir son dÃ©tail et la gÃ©rer. </p>
  </section>


  <p class="actions-legend"> <em>> Actions rapides: ğŸ”’ Changer la visibilitÃ© | ğŸ“„ Dupliquer l'idÃ©e | ğŸ›’ Prendre le cadeau (si privÃ© et disponible) </em> </p>

  <table   aria-describedby="table-priorite-explication" class="gift-table">
    <thead>
    <tr>
      <th scope="col">Destinataire</th>
      <th scope="col">Nom</th>
      <th scope="col" class="col-actions">Prix</th>
      <th scope="col" class="col-actions">PrivÃ©</th>
      <th scope="col" class="col-actions">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let gift of giftIdeas"
        (click)="onRowClick(gift)"
        (keydown.enter)="onRowClick(gift)"
        (keydown.space)="onRowClick(gift)">
      <td tabindex="0">{{ gift.gift.destinataire.name }}</td>
      <td>{{ gift.gift.nom }}</td>
      <td class="col-actions">{{ gift.gift.prix }} â‚¬</td>
      <td
        class="col-actions">
        {{ gift.giftIdea.visibilite ? 'NON' : 'OUI' }}
      </td>
      <td class="emoji-action col-actions">
        <button type="button" class="emoji-button"
                title="Modifier la visibilitÃ©"
                attr.aria-label="Modifier la visibilitÃ© de {{ gift.gift.nom }}">
          <span class="emoji"
                (click)="changeVisibility(); $event.stopPropagation()">ğŸ”’</span>
        </button>
        <button type="button" class="emoji-button"
                title="Dupliquer l'idÃ©e"
                attr.aria-label="Dupliquer l'idÃ©e {{ gift.gift.nom }}">
          <span class="emoji"
                (click)="duplicateIdea(); $event.stopPropagation()">ğŸ“„</span>
        </button>
        <button *ngIf="!gift.giftIdea.visibilite && gift.gift.statut == 'DISPONIBLE' "
          type="button" class="emoji-button"
                title="Prendre le cadeau"
                attr.aria-label="Prendre le cadeau {{ gift.gift.nom }}">
          <span class="emoji"
                (click)="takeIt(gift.gift.id!); $event.stopPropagation()">ğŸ›’</span>
        </button>

      </td>
    </tr>
    </tbody>
  </table>

  <div class="options">
    <button (click)="goToAjout()">[+] Ajouter une idÃ©e</button>
    <button (click)="return()">â†© Retour au Menu</button>
  </div>

  <app-terminal-modal
    *ngIf="errorService.errorMessage()"
    [message]="errorService.errorMessage()!"
    [actions]="[{ label: 'Ok', eventName: 'CLOSE', style: 'danger' }]"
    (actionClicked)="errorService.clearError()"
  ></app-terminal-modal>
</div>
