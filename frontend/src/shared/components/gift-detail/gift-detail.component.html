<div class="terminal" style="position: relative;">
  <h2>> DÃ©tail du cadeau</h2>

  <div *ngIf="gift">
    <p>> <strong>Nom :</strong> {{ gift.nom }}</p>
    <p>> <strong>Description :</strong> {{ gift.description }}</p>
    <p>> <strong>Marque :</strong> {{ gift.marque }}</p>
    <p>> <strong>Magasin :</strong> {{ gift.magasin }}</p>
    <p *ngIf="gift.url">> <strong>URL : </strong>
      <a [href]="gift.url" target="_blank">{{ gift.url }}</a>
    </p>
    <p>> <strong>QuantitÃ© :</strong> {{ gift.quantite }}</p>
    <p>> <strong>Prix :</strong> {{ gift.prix }} â‚¬</p>
    <p>> <strong>Frais de port :</strong> {{ gift.fraisPort }} â‚¬</p>
    <p>> <strong>Commentaire :</strong> {{ gift.commentaire }}</p>
    <p>> <strong>PrioritÃ© :</strong> {{ gift.priorite }}</p>

    <!-- Champs spÃ©cifiques si ce n'est PAS notre cadeau -->
    <ng-container *ngIf="context === 'other'">
      <p>> <strong>Statut :</strong> {{ gift.statut }}</p>
      <p *ngIf="gift.reservePar">> <strong>{{ gift.statut === 'RESERVE' ? 'RÃ©servÃ©' : 'Pris' }} par :</strong> {{ gift.reservePar.name }}</p>
    </ng-container>
  </div>

  <div class="options">
    <button (click)="back.emit()">â†© Retour Ã  la liste</button>

    <button *ngIf="context === 'own'" (click)="modifier()">âœ Modifier</button>
    <button *ngIf="context === 'own' && !showModal" (click)="requestDelete()">ğŸ—‘ Supprimer</button>


    <button *ngIf="context === 'other' && gift?.statut === 'DISPONIBLE'" (click)="reserver()">â³ RÃ©server</button>
    <button *ngIf="context === 'other' && (gift?.statut === 'DISPONIBLE' || estReserveParMoi(gift!))" (click)="prendre()">ğŸ›’ Prendre</button>

  </div>

  <!-- Confirmation -->
  <app-terminal-modal
    *ngIf="showModal"
    [message]="message"
    [actions]="modalActions"
    (actionClicked)="handleClicked($event)"
  />

</div>
